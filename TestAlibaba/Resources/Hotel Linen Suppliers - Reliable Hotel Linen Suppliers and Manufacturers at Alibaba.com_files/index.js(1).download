!function(){var t="client/index.js",e=new Function("return this")();!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="https://assets.alicdn.com/g/sc-assets/sw",n.h="043ce4a549377b084ff3",n.cn="client/index",n(n.s=153)}([function(e,n,r){"use strict";r.d(n,"a",function(){return o});r(111);var o=function(){};o.info=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];s.apply(void 0,[u,t].concat(n))},o.title=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];s.apply(void 0,[i+a,t].concat(n))},o.debug=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];s.apply(void 0,[c,t].concat(n))},o.error=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];s.apply(void 0,[c,t].concat(n))};var i="\n  text-shadow: 0 1px 0 #ccc,\n               0 2px 0 #c9c9c9,\n               0 3px 0 #bbb,\n               0 4px 0 #b9b9b9,\n               0 5px 0 #aaa,\n               0 6px 1px rgba(0,0,0,.1),\n               0 0 5px rgba(0,0,0,.1),\n               0 1px 3px rgba(0,0,0,.3),\n               0 3px 5px rgba(0,0,0,.2),\n               0 5px 10px rgba(0,0,0,.25),\n               0 10px 10px rgba(0,0,0,.2),\n               0 20px 20px rgba(0,0,0,.15);\n",c="\n  color: red;\n",a="\n  font-size: 30px;\n",u="\n  font-weight: bold;\n";function s(e,n){for(var r=function(){},o=arguments.length,i=new Array(o>2?o-2:0),c=2;c<o;c++)i[c-2]=arguments[c];r.apply(void 0,["%c".concat("[".concat(t,"]").padEnd(20)).concat(n),e].concat(i))}},function(t,e,n){"use strict";n.d(e,"o",function(){return r}),n.d(e,"n",function(){return o}),n.d(e,"q",function(){return i}),n.d(e,"w",function(){return c}),n.d(e,"u",function(){return a}),n.d(e,"t",function(){return u}),n.d(e,"v",function(){return s}),n.d(e,"k",function(){return f}),n.d(e,"j",function(){return l}),n.d(e,"g",function(){return p}),n.d(e,"e",function(){return d}),n.d(e,"i",function(){return v}),n.d(e,"f",function(){return h}),n.d(e,"d",function(){return m}),n.d(e,"c",function(){return g}),n.d(e,"a",function(){return y}),n.d(e,"h",function(){return b}),n.d(e,"b",function(){return _}),n.d(e,"r",function(){return w}),n.d(e,"s",function(){return O}),n.d(e,"p",function(){return j}),n.d(e,"l",function(){return x}),n.d(e,"m",function(){return S});n(12),n(20),n(115);var r="/sc.flasher.count",o="//i.alicdn.com/g/sc-assets/flasher-config/manifest.json",i="//i.alicdn.com/g/sc-assets/flasher-config",c={activity:"https://activity.alibaba.com",www:"https://www.alibaba.com"},a=(Object.values(c),"resolve"),u="reject",s="data-sw-proxy",f="register_success",l="register_failed",p="page_install",d="get_page_uid",v="proxy_prefetch_page",h="idle_load_assets",m="get_cookie",g="fetch_api",y="clear_db",b="preload_pages",_="enable_route",w="PAGE_SOURCE_PREFIX",O="PAGE_TEMPLATE_PREFIX",j=3e5,x="CLIENT_PROMISE_READY",S={LEVEL_STATIC_0:"FLASHER_LEVEL_STATIC_0",LEVEL_DATA_0:"FLASHER_LEVEL_DATA_0",LEVEL_DATA_1:"FLASHER_LEVEL_DATA_1",LEVEL_DATA_NO_DATA:"FLASHER_LEVEL_DATA_NO_DATA",LEVEL_DATA_FRAGMENTS:"FLAHSER_LEVEL_DATA_FRAGMENTS"}},function(t,n,r){"use strict";r(110),r(12),r(18);var o,i=r(0),c={dbName:"FLASHER_UNIVERSAL_DB",version:24,storeName:"FLASHER_UNIVERSAL_STORE",storeOption:{keyPath:"key"},storeColums:[{name:"key",unique:!0,index:!0},{name:"group",unique:!1,index:!0},{name:"type",unique:!1,index:!0},{name:"url",unique:!1,index:!0},{name:"data",unique:!1},{name:"expire",unique:!1},{name:"maxAge",unique:!1}]},a=r(5);var u=["add","put","clear","delete","count","get"].reduce(function(t,e){return t[e]=function(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return o.then(function(e){return new Promise(function(r,o){var i=e.transaction(c.storeName,"readwrite").objectStore(c.storeName),a=i[t].apply(i,n);a.onsuccess=function(){r(this.result)},a.onerror=function(){o(this.error)}})}).catch(function(t){Object(i.a)(t),Object(a.a)("opFactory-error",{message:t})})}}(e),t},{});u.findAll=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key";return o.then(function(n){return new Promise(function(r,o){var i=n.transaction(c.storeName,"readwrite").objectStore(c.storeName).index(e).openCursor(IDBKeyRange.only(t)),a=[];i.onsuccess=function(){var t=this.result;t?(a.push(t.value),t.continue()):r(a)},i.onerror=function(){o(this.error)}})}).catch(function(t){Object(i.a)(t),Object(a.a)("findAll-error",{message:t})})},u.find=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key";return o.then(function(n){return new Promise(function(r,o){var i=n.transaction(c.storeName,"readwrite").objectStore(c.storeName).index(e).get(t);i.onsuccess=function(){r(this.result)},i.onerror=function(){o(this.error)}})}).catch(function(t){Object(i.a)(t),Object(a.a)("find-error",{message:t})})},o=new Promise(function(t,e){var n=indexedDB.open(c.dbName,c.version);n.onsuccess=function(){t(this.result)},n.onerror=function(t){Object(a.a)("initDb:",{message:t.target.error}),e(t.target.error)},n.onupgradeneeded=function(t){var n=t.currentTarget.result;try{n.deleteObjectStore(c.storeName)}catch(t){Object(i.a)(t)}try{var r=n.createObjectStore(c.storeName,c.storeOption);c.storeColums.forEach(function(t){var e=t.name,n=t.index,o=t.unique;n&&r.createIndex(e,e,{unique:o})})}catch(t){Object(i.a)(t),e(t)}}}),e.dbOpMap=u;n.a=u},function(t,n,r){"use strict";function o(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return`${t()+t()}-${t()}-${t()}-${t()}-${t()}${t()}${t()}`}function i(){return e.top&&e!==e.top}function c(){return!e.document}function a(){return c()?Promise.resolve(!0):new Promise(t=>{"complete"!==document.readyState?e.addEventListener("load",()=>{t()}):t()})}function u(){return c()?"ServiceWorker":i()?"ProxyHTML":"Page"}function s(){}function f(t){if(!t)return{};const e=t.split("&"),n={};for(let t=0;t<e.length;t++){const r=e[t].split("=");n[r[0]]=decodeURIComponent(r[1])}return n}function l(t,e){return t.pages=t.pages||[],t.prefetch=t.prefetch||[],t.dest=t.dest||[],t.prefetch.forEach(t=>{if(t.features=t.features||{},t.precache=t.precache||[],t.enabled=!!t.enabled,e&&e.prefetch){const n=e.prefetch.find(e=>e.route===t.route);n&&(t.byhand=n.byhand)}}),t.dest.forEach(t=>{if(t.enabled=!!t.enabled,e&&e.prefetch){const n=e.prefetch.find(e=>e.route===t.route);n&&(t.byhand=n.byhand)}}),t}function p(t){if(!t)return t;return t.images=t.images||[],t.scripts=t.scripts||[],t.styles=t.styles||[],t.fragments=t.fragments||[],t.features=t.features||{},t.getTemplateType=t.getTemplateType||'return "default";',t.templateMap=t.templateMap||{default:{url:t.templateUrl,type:"html"}},Object.keys(t.templateMap).map(e=>{"string"==typeof t.templateMap[e]&&(t.templateMap[e]={url:t.templateMap[e],type:"html"})}),t}function d(t,e=s,n=1){const r=t||[];if(n>=t.length)return Promise.all(t.map((t,n)=>e(t,n)));const o=[];let i=0;const c=()=>{const t=i,n=r[t];return void 0===n?Promise.resolve("done"):(i+=1,Promise.resolve(e(n,t)).then(()=>c(),()=>c()))};for(let t=0;t<n;t++)o[t]=c();return Promise.all(o)}function v(t,e){if("html"!==e)return null;const n=t.match(/<body[^>]*>(?:<script([^>]*)>([\s\S]*?)(?=<\/script>)<\/script>)/)||[],r=n[1]||"",o=n[2]||"";return{attrList:r?r.trim().split(/\s+/).map(t=>{const e=t.split("="),n=e[0];let r=e.slice(1).join("=");return{attrKey:n,attrValue:r=r.replace(/^"|"$/g,"")}}):[],scriptStr:o}}function h(t,e){let n=new Date;return()=>{const r=new Date;r-n>=e&&(t.call(this),n=r)}}r.d(n,"b",function(){return o}),r.d(n,"c",function(){return i}),r.d(n,"d",function(){return c}),r.d(n,"h",function(){return a}),r.d(n,"a",function(){return u}),r.d(n,"e",function(){return s}),r.d(n,"k",function(){return f}),r.d(n,"f",function(){return l}),r.d(n,"g",function(){return p}),r.d(n,"j",function(){return d}),r.d(n,"i",function(){return v}),r.d(n,"l",function(){return h})},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var r={VALUE:"VALUE",API:"API",ASSETS:"ASSETS"},o=10800},function(t,n,r){"use strict";r(12),r(20),r(55);var o=r(56),i=r.n(o),c=r(7),a=r.n(c),u=r(8),s=r.n(u);function f(t){e.navigator&&e.navigator.sendBeacon,e.Image?(new Image).src=t:fetch(t,{mode:"no-cors"})}var l=new(function(){function t(){a()(this,t)}return s()(t,[{key:"setCna",value:function(t){this._cna=t}},{key:"record",value:function(t,e,n){var r="https://gm.mmstat.com".concat(t,"?t=").concat((new Date).getTime());this._cna&&(r+="&cna=".concat(this._cna)),n&&(r+="&gokey=".concat(encodeURIComponent(n))),f(r)}}]),t}()),p=new(function(){function t(){a()(this,t)}return s()(t,[{key:"sum",value:function(t){f("https://arms-retcode.aliyuncs.com/r.png?t=sum&times=1&page=www.test.com&tag=&group=default_group&key=".concat(t,"&val=1&sr=1440x900&vp=1440x318&ct=4g&uid=s0jeUjvRpI41UgpRR0kmu0yv8nzh&pid=iw0okbwm8i%40b227f8ad920d696&_v=1.3.1&sid=qCjdsj2ep261L0ppz0F9uOIl4F5I&sampling=1&z=jjp1p0un&_t=").concat(+new Date))}},{key:"avg",value:function(t){f("https://arms-retcode.aliyuncs.com/r.png?t=avg&times=1&page=www.test.com&tag=&group=default_group&key=".concat(t,"&val=1&sr=1440x900&vp=1440x318&ct=4g&uid=s0jeUjvRpI41UgpRR0kmu0yv8nzh&pid=iw0okbwm8i%40b227f8ad920d696&_v=1.3.1&sid=qCjdsj2ep261L0ppz0F9uOIl4F5I&sampling=1&z=jjp1p0un&_t=").concat(+new Date))}}]),t}()),d=r(1);function v(t,e){var n=["eventName=".concat(t)];"object"===i()(e)&&(n=n.concat(Object.keys(e).map(function(t){return"".concat(t,"=").concat(e[t])}))),l.record(d.o,"OTHER",n.join("&"),"GET"),p.sum(t)}r.d(n,"a",function(){return v})},function(t,n,r){"use strict";r(12);var o=r(39),i=r.n(o),c=(r(33),r(7)),a=r.n(c),u=r(8),s=r.n(u),f=r(29),l=r.n(f),p=r(14),d=r.n(p),v=r(30),h=r.n(v),m=r(31),g=r.n(m),y=r(2),b=(r(18),r(0)),_=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a()(this,t),n.isStatic)this._initPromise=Promise.resolve(!0),Object.assign(this,e);else{var r="string"!=typeof e;this._initPromise=r?this._init(e):this._load(e),this._initPromise.catch(function(t){Object(b.a)(t)})}}return s()(t,[{key:"_init",value:function(t){var e=t.key,n=t.url,r=t.group;if(this.group=r,e)this.key=e;else{if(!n)return Promise.reject(new Error('Must set one of attributes: "key", "url"'));this.key=n}return Promise.resolve(!0)}},{key:"_load",value:function(t){var e=this;return t?(this.key=t,y.a.get(t).then(function(n){if(!n)return Promise.reject(new Error("key ".concat(t," do not exiest in cache")));var r=n.expire,o=+new Date;return Object.assign(e,n),o>r?(e.data=null,y.a.delete(e.key)):void 0})):Promise.reject(new Error("Must input the data key!"))}},{key:"_fetch",value:function(){}},{key:"_save",value:function(){}},{key:"update",value:function(){}},{key:"remove",value:function(){var t=this;return this._initPromise.then(function(){return t.data=null,t.key?y.a.delete(t.key):null}).catch(function(){return null})}},{key:"getData",value:function(){var t=this;return this._initPromise.then(function(){return t.data}).catch(function(){return null})}}]),t}(),w=function(t){function e(){return a()(this,e),l()(this,d()(e).apply(this,arguments))}return g()(e,t),s()(e,[{key:"_init",value:function(t){var n=this;return h()(d()(e.prototype),"_init",this).call(this,t).then(function(){var e=n.key,r=t.data,o=t.type,i=t.maxAge;return Object.assign(n,{key:e,type:o,maxAge:i}),n._save(r)})}},{key:"_save",value:function(t){var e=this.key,n=this.type,r=this.maxAge,o=this.group,i=+new Date+1e3*r;return this.data=t,this.expire=i,y.a.put({key:e,type:n,expire:i,data:t,maxAge:r,group:o})}},{key:"update",value:function(t){var e=this;return this._initPromise.then(function(){return e.data=t,e._save(t)}).catch(function(){return null})}}]),e}(_),O=function(t){function n(){return a()(this,n),l()(this,d()(n).apply(this,arguments))}return g()(n,t),s()(n,[{key:"_init",value:function(t){var e=this;return h()(d()(n.prototype),"_init",this).call(this,t).then(function(){var n=e.key,r=t.type,o=t.url;return Object.assign(e,{key:n,type:r,url:o}),e._fetch().then(function(){return e._save()})})}},{key:"_fetch",value:function(){var t=this.url;return e.fetch(t,{mode:"no-cors"})}},{key:"_save",value:function(){var t=this.key,e=this.type,n=this.url,r=this.group;return y.a.put({key:t,type:e,url:n,group:r})}},{key:"update",value:function(){var t=this;return this._initPromise.then(function(){return t._fetch()}).catch(function(){return null})}}]),n}(_),j=(r(20),r(55),r(58)),x=r.n(j);e.fetchJsonp=x.a;var S=function(t){function n(){return a()(this,n),l()(this,d()(n).apply(this,arguments))}return g()(n,t),s()(n,[{key:"_init",value:function(t){var e=this;return h()(d()(n.prototype),"_init",this).call(this,t).then(function(){var n=e.key,r=t.type,o=t.maxAge,i=t.apiConf,c=void 0===i?{}:i;return Object.assign(e,{key:n,type:r,apiConf:c,maxAge:o}),e._fetch().then(function(t){return e._save(t)})})}},{key:"_getUrl",value:function(){var t=this.apiConf,e=t.url,n=t.method,r=void 0===n?"GET":n,o=t.params,i=void 0===o?{}:o,c=Object.keys(i).map(function(t){return"".concat(t,"=").concat(i[t])}).join("&");if(/^post$/i.test(r)||!c)return e;var a=-1===e.indexOf("?")?"?":"&";return"".concat(e).concat(a).concat(c)}},{key:"_getFetchOpt",value:function(){var t=this.apiConf,e=t.method,n=void 0===e?"GET":e,r=t.params,o=void 0===r?{}:r,i=Object.assign({credentials:"include"},this.apiConf,{method:n.toUpperCase()});return/^post$/i.test(n)&&(i.body=JSON.stringify(o)),/^get$/i.test(n)&&delete i.body,i}},{key:"_getFetchMethod",value:function(){var t=this.apiConf.method;return/^jsonp$/i.test(void 0===t?"GET":t)?x.a:e.fetch}},{key:"_fetch",value:function(){var t=this.apiConf,e=t.url,n=t.contentType,r=void 0===n?"json":n;if(!e)return Promise.reject(new Error("Can not request empty url!"));var o=this._getUrl(),i=this._getFetchOpt();return this._getFetchMethod()(o,i).then(function(t){return"json"===r?t.json():t.text()})}},{key:"_save",value:function(t){var e=this.key,n=this.apiConf,r=this.type,o=this.maxAge,i=this.group,c=+new Date+1e3*o;return this.data=t,this.expire=c,y.a.put({key:e,apiConf:n,type:r,expire:c,data:t,maxAge:o,group:i})}},{key:"update",value:function(){var t=this;return this._initPromise.then(function(){return t._fetch()}).then(function(e){return t._save(e)}).catch(function(){return null})}}]),n}(_),E=r(4),k=r(11),P=r.n(k),A=r(15),T=r.n(A);r(40);var I,C=r(5);r.d(n,"b",function(){return R}),r.d(n,"d",function(){return U}),r.d(n,"a",function(){return y.a});var L=(I={},i()(I,E.a.API,S),i()(I,E.a.ASSETS,O),i()(I,E.a.VALUE,w),I);function M(t){var e=t.type,n=void 0===e?E.a.VALUE:e,r=L[n];if(!r){var o="Unkown data type: ".concat(n);return Object(C.a)("_cache-error",{message:o}),null}return new r(t)}function F(t,e){if(!t){return Object(C.a)("_load-error",{message:"Must input data key!"}),null}var n=L[e];if(!n){var r="Unkown data type: ".concat(e);return Object(C.a)("_load-error",{message:r}),null}return new n(t)}function R(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E.b,r=arguments.length>3?arguments[3]:void 0;return M({key:t,maxAge:n,data:e,type:E.a.VALUE,group:r})}function U(t){return y.a.findAll(t,"group").then(function(t){var e=[];return t.forEach(function(t){var n=t.key;if(t.expire<+new Date)y.a.delete(n);else{var r=t.type,o=new(0,L[r])(t,{isStatic:!0});e.push(o)}}),e})}n.c={cacheValue:R,cacheAssets:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.b,n=arguments.length>2?arguments[2]:void 0;return M({url:t,maxAge:e,type:E.a.ASSETS,group:n})},cacheApi:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E.b,r=arguments.length>3?arguments[3]:void 0;return M({key:t,apiConf:e,maxAge:n,type:E.a.API,group:r})},loadValue:function(t){return F(t,E.a.VALUE)},loadAssets:function(t){return F(t,E.a.ASSETS)},loadApi:function(t){return F(t,E.a.API)},loadGroup:U,gc:function(){return Promise.all([y.a.findAll(E.a.API,"type"),y.a.findAll(E.a.ASSETS,"type"),y.a.findAll(E.a.VALUE,"type")]).then(function(t){var e=T()(t,3),n=e[0],r=e[1],o=e[2],i=+new Date,c=P()(n).concat(P()(r),P()(o)).filter(function(t){var e=t.expire;return i>(void 0===e?0:e)}).map(function(t){var e=t.key;return y.a.delete(e)});return Promise.all(c)})},DB:y.a}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){var r=n(59)("wks"),o=n(43),i=n(10).Symbol,c="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=c&&i[t]||(c?i:o)("Symbol."+t))}).store=r},function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:void 0!==e&&e.Math==Math?e:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e,n){var r=n(99),o=n(100),i=n(101);t.exports=function(t){return r(t)||o(t)||i()}},function(t,e,n){for(var r=n(20),o=n(28),i=n(27),c=n(10),a=n(22),u=n(37),s=n(9),f=s("iterator"),l=s("toStringTag"),p=u.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=o(d),h=0;h<v.length;h++){var m,g=v[h],y=d[g],b=c[g],_=b&&b.prototype;if(_&&(_[f]||a(_,f,p),_[l]||a(_,l,g),u[g]=p,y))for(m in r)_[m]||i(_,m,r[m],!0)}},function(t,n,r){"use strict";r.r(n),r.d(n,"trace",function(){return v}),r.d(n,"getTrace",function(){return h}),r.d(n,"clearSwTrace",function(){return g}),r.d(n,"clearTrace",function(){return y});var o=r(11),i=r.n(o),c=r(15),a=r.n(c),u=(r(18),r(12),r(20),r(40),r(6)),s=r(3),f=r(0),l="TRACE_PREFIX",p=Object(s.d)()||Object(s.c)()?"sw":"browser",d="sw";function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;if(Object(f.a)("trace:",t,e),/--/.test(t))return console.error('event 不能包含 "--"!');var n=m(t);Object(u.b)("".concat(l,"|").concat(t,"|").concat(n.time),n,1800,"flasher_trace_".concat(e))}function h(){var t=[Object(u.d)("flasher_trace_sw")];return Object(s.d)()||t.push(Object(u.d)("flasher_trace_".concat(window.$flasherTraceGroup||""))),Promise.all(t).then(function(t){var n=a()(t,2),r=n[0],o=n[1];r=r||[],o=o||[];var c=i()(r).concat(i()(o)).map(function(t){return t.data});"browser"===p&&c.push(m("navStart",e.performance&&e.performance.timing&&e.performance.timing.navigationStart)),(c=c.sort(function(t,e){return t.time-e.time})).push(m("getTrace"));var u=(c=c.slice(-20)).map(function(t){return"[".concat(t.platform,"|").concat(t.event,"|").concat(t.time,"]")}).join("-");return y(r),y(o),Object(f.a)(u),u})}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:+new Date;return{event:t,platform:p,time:e}}function g(){Object(u.d)("flasher_trace_sw").then(function(t){y(t)})}function y(t){t.map(function(t){u.a.delete(t.key)})}e.Flasher=e.Flasher||{},e.Flasher.trace=v,e.Flasher.getTrace=h},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){var r=n(102),o=n(103),i=n(104);t.exports=function(t,e){return r(t)||o(t,e)||i()}},function(t,e,n){"use strict";var r=n(79);e.a=new r.a},function(t,e,n){var r=n(24);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){"use strict";var r,o,i,c,a=n(41),u=n(10),s=n(38),f=n(63),l=n(21),p=n(24),d=n(42),v=n(80),h=n(81),m=n(85),g=n(65).set,y=n(87)(),b=n(67),_=n(88),w=n(68),O=n(89),j=u.TypeError,x=u.process,S=x&&x.versions,E=S&&S.v8||"",k=u.Promise,P="process"==f(x),A=function(){},T=o=b.f,I=!!function(){try{var t=k.resolve(1),e=(t.constructor={})[n(9)("species")]=function(t){t(A,A)};return(P||"function"==typeof PromiseRejectionEvent)&&t.then(A)instanceof e&&0!==E.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),C=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},L=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var r=t._v,o=1==t._s,i=0,c=function(e){var n,i,c,a=o?e.ok:e.fail,u=e.resolve,s=e.reject,f=e.domain;try{a?(o||(2==t._h&&R(t),t._h=1),!0===a?n=r:(f&&f.enter(),n=a(r),f&&(f.exit(),c=!0)),n===e.promise?s(j("Promise-chain cycle")):(i=C(n))?i.call(n,u,s):u(n)):s(r)}catch(t){f&&!c&&f.exit(),s(t)}};n.length>i;)c(n[i++]);t._c=[],t._n=!1,e&&!t._h&&M(t)})}},M=function(t){g.call(u,function(){var e,n,r,o=t._v,i=F(t);if(i&&(e=_(function(){P?x.emit("unhandledRejection",o,t):(n=u.onunhandledrejection)?n({promise:t,reason:o}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",o)}),t._h=P||F(t)?2:1),t._a=void 0,i&&e.e)throw e.v})},F=function(t){return 1!==t._h&&0===(t._a||t._c).length},R=function(t){g.call(u,function(){var e;P?x.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},U=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),L(e,!0))},D=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw j("Promise can't be resolved itself");(e=C(t))?y(function(){var r={_w:n,_d:!1};try{e.call(t,s(D,r,1),s(U,r,1))}catch(t){U.call(r,t)}}):(n._v=t,n._s=1,L(n,!1))}catch(t){U.call({_w:n,_d:!1},t)}}};I||(k=function(t){v(this,k,"Promise","_h"),d(t),r.call(this);try{t(s(D,this,1),s(U,this,1))}catch(t){U.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(90)(k.prototype,{then:function(t,e){var n=T(m(this,k));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=P?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r;this.promise=t,this.resolve=s(D,t,1),this.reject=s(U,t,1)},b.f=T=function(t){return t===k||t===c?new i(t):o(t)}),l(l.G+l.W+l.F*!I,{Promise:k}),n(49)(k,"Promise"),n(91)("Promise"),c=n(25).Promise,l(l.S+l.F*!I,"Promise",{reject:function(t){var e=T(this);return(0,e.reject)(t),e.promise}}),l(l.S+l.F*(a||!I),"Promise",{resolve:function(t){return O(a&&this===c?k:this,t)}}),l(l.S+l.F*!(I&&n(92)(function(t){k.all(t).catch(A)})),"Promise",{all:function(t){var e=this,n=T(e),r=n.resolve,o=n.reject,i=_(function(){var n=[],i=0,c=1;h(t,!1,function(t){var a=i++,u=!1;n.push(void 0),c++,e.resolve(t).then(function(t){u||(u=!0,n[a]=t,--c||r(n))},o)}),--c||r(n)});return i.e&&o(i.v),n.promise},race:function(t){var e=this,n=T(e),r=n.reject,o=_(function(){h(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(t,e,n){t.exports=!n(26)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";var r=n(70),o=n(96),i=n(37),c=n(36);t.exports=n(71)(Array,"Array",function(t,e){this._t=c(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r=n(10),o=n(25),i=n(22),c=n(27),a=n(38),u=function(t,e,n){var s,f,l,p,d=t&u.F,v=t&u.G,h=t&u.S,m=t&u.P,g=t&u.B,y=v?r:h?r[e]||(r[e]={}):(r[e]||{}).prototype,b=v?o:o[e]||(o[e]={}),_=b.prototype||(b.prototype={});for(s in v&&(n=e),n)l=((f=!d&&y&&void 0!==y[s])?y:n)[s],p=g&&f?a(l,r):m&&"function"==typeof l?a(Function.call,l):l,y&&c(y,s,l,t&u.U),b[s]!=l&&i(b,s,p),m&&_[s]!=l&&(_[s]=l)};r.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var r=n(23),o=n(53);t.exports=n(19)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(17),o=n(73),i=n(64),c=Object.defineProperty;e.f=n(19)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(10),o=n(22),i=n(35),c=n(43)("src"),a=Function.toString,u=(""+a).split("toString");n(25).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var s="function"==typeof n;s&&(i(n,"name")||o(n,"name",e)),t[e]!==n&&(s&&(i(n,c)||o(n,c,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:a?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[c]||a.call(this)})},function(t,e,n){var r=n(74),o=n(61);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(56),o=n(107);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},function(t,e,n){n(14);var r=n(108);function o(e,n,i){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=o=Reflect.get:t.exports=o=function(t,e,n){var o=r(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}},o(e,n,i||e)}t.exports=o},function(t,e,n){var r=n(109);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(21);r(r.S+r.F,"Object",{assign:n(106)})},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(60),o=n(32);t.exports=function(t){return r(o(t))}},function(t,e){t.exports={}},function(t,e,n){var r=n(42);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";var r=n(105)(!0);n(71)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e){t.exports=!1},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){"use strict";n.d(e,"c",function(){return f}),n.d(e,"b",function(){return l}),n.d(e,"d",function(){return p}),n.d(e,"a",function(){return d});var r=n(0),o=n(6),i=n(1),c=n(57),a=n(46),u=n(5),s=n(3);function f(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a="".concat(i.s,"_").concat(t,"_").concat(e),s=o.c.loadValue(a);return n&&setTimeout(function(){Object(c.c)(t,e).catch(function(t){Object(u.a)("lazyUpdate-error"),r.a.error(t),o.c.loadValue(a).remove()})},1e3),s.getData()}function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f="".concat(i.r,"_").concat(t,"_").concat(e),l=o.c.loadValue(f);return n&&setTimeout(function(){Object(a.b)(t,e).then(function(n){var r=n;return n&&(r=Object(s.g)(n),Object(c.e)(t,e,r)),r}).catch(function(t){Object(u.a)("lazyUpdate-pageConf-error"),r.a.error(t),o.c.loadValue(f).remove()})},1e3),l.getData()}function p(t,e,n){o.c.cacheValue("".concat(t,"-").concat(e,"-fragments"),n)}function d(t,e){return o.c.loadValue("".concat(t,"-").concat(e,"-fragments")).getData()}},function(t,n,r){"use strict";r.d(n,"b",function(){return f}),r.d(n,"a",function(){return l});var o=r(1),i=3e5,c=3e5,a={PAGE_SOURCE:"prefetch",FLASHER_CONF:"manifest"};function u(t,e,n){var r=t===a.PAGE_SOURCE?Math.floor((new Date).getTime()/c):Math.floor((new Date).getTime()/i);return t===a.PAGE_SOURCE?"".concat(o.q,"/??e.js,prefetch/").concat(e,"/").concat(n,".js?_=").concat(r):t===a.FLASHER_CONF?"".concat(o.n,"?_=").concat(r):""}function s(t){return e.fetch(t,{mode:"cors"}).then(function(t){return t.json()}).catch(function(){return null})}function f(t,e){return s(u(a.PAGE_SOURCE,t,e))}function l(){return s(u(a.FLASHER_CONF))}},function(t,e,n){"use strict";n.r(e);var r=n(46);n.d(e,"fetchFlasherConf",function(){return r.a}),n.d(e,"fetchPageConf",function(){return r.b});var o=n(57);n.d(e,"fetchPageSource",function(){return o.b}),n.d(e,"fetchPageFragments",function(){return o.a});var i=n(45);n.d(e,"loadPageTemplate",function(){return i.c}),n.d(e,"loadPageConf",function(){return i.b}),n.d(e,"saveFragments",function(){return i.d}),n.d(e,"loadFragments",function(){return i.a})},function(t,e,n){var r=n(44),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(23).f,o=n(35),i=n(9)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(32);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(24),o=n(10).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(59)("keys"),o=n(43);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(51),o=n(28);n(114)("keys",function(){return function(t){return o(r(t))}})},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(t){return n(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(e)}t.exports=r},function(t,n,r){"use strict";r.d(n,"e",function(){return b}),r.d(n,"a",function(){return x}),r.d(n,"c",function(){return S}),r.d(n,"b",function(){return E}),r.d(n,"d",function(){return k});var o=r(132),i=r.n(o),c=(r(133),r(62),r(144),r(33),r(15)),a=r.n(c),u=(r(18),r(40),r(12),r(20),r(55),r(11)),s=r.n(u),f=r(0),l=r(6),p=r(72),d=r(45),v=r(1),h=r(46),m=r(16),g=r(5),y=r(3);function b(t,e,n){var r="".concat(v.r,"_").concat(t,"_").concat(e);return l.c.cacheValue(r,n)._initPromise.catch(function(t){f.a.error(t),Object(g.a)("storePageCacheConf-error")})}function _(t){var e=t||{},n=e.scripts,r=void 0===n?[]:n,o=e.styles,i=void 0===o?[]:o,c=e.images,a=void 0===c?[]:c;return s()(r).concat(s()(i),s()(a))}function w(t,n){e.Flasher._idleLoad(t,n)}function O(t,n){var r=t.namespace,o=t.id,i=t.templateMap,c=t.timestamp;if(!i)return null;var a=Object.keys(i);return n?u():Object(d.c)(r,o).then(function(t){return t||u()});function u(){var t="".concat(v.s,"_").concat(r,"_").concat(o),n=a.map(function(t){return e.fetch(i[t].url).then(function(t){return t.text()}).then(function(e){var n=function(t){var e=t.match(/ocms-last-build-time:\s+(.*)\s+-->$/m);if(!e||!e[1])return 0;var n=e[1].split(/-|\s|:/).map(function(t){return parseInt(t,10)});return n[1]-=1,Date.UTC.apply(Date,s()(n))-288e5}(e);i[t].content=e,i[t].timebuild=n,i[t].timestamp=c})});return Promise.all(n).then(function(){return l.c.cacheValue(t,i),i})}}function j(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t||{},r=n.fragments,o=void 0===r?[]:r,i=n.domain,c=n.timestamp;return Promise.all(o.map(function(t){var n=t.getApiConf,r=t.dataHandler;return n?function(t,e){var n=new Function("cookie","documentCookie",t);return m.a.callAPI(v.d,e,{timeout:200}).then(function(t){var e=a()(t,2),r=e[0],o=e[1];return n(r,o)}).catch(function(t){f.a.error(t),n({},""),Object(g.a)("_getApiConfig-error")})}(n,i).then(function(t){var n=t.url,r=t.maxAge,o=void 0===r?3e5:r;return e.topOfferIds&&(t.params.topOfferIds=e.topOfferIds),Object(p.a)(n,t,o)}).then(function(t){var e=JSON.parse(JSON.stringify(t));return r?new Function("data",r)(e).then(function(e){return[t,e]}):[t,e]}).then(function(e){var n=a()(e,2),r=n[0],o=n[1];return Object.assign({},t,{dataResult:o,dataOrigin:r,timestamp:c})}):Promise.resolve(Object.assign({},t))}))}function x(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return j(t||{},e)}function S(t,e){return function(t,e){return Object(d.b)(t,e).then(function(t){return t||Promise.reject(new Error("empty"))}).catch(function(){return Object(h.b)(t,e).then(function(n){var r=n;return n&&(r=Object(y.g)(n),b(t,e,r)),r})})}(t,e).then(function(t){return O(t||{},!0)})}function E(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return("load"===r.event?Object(y.h)():Promise.resolve(!0)).then(function(){return Promise.all([Object(h.b)(t,e,n),Object(d.b)(t,e)])}).then(function(n){var o=a()(n,2),i=o[0],c=o[1],u=Object(y.g)(i)||{},s=u.timestamp,l=u.templateUrl,p=c||{},d=p.timestamp,v=p.templateUrl,h=O(i||{},l!==v);s!==d&&w(function(t,e){return t.filter(function(t){return e.every(function(e){return e!==t})})}(_(i),_(c)),r);return b(t,e,i),Promise.all([h]).then(function(t){if(!i.features.parseAssets)return null;if(t&&t[0]){var e=(t[0].default||{}).content;return e&&function(t){f.a.info("Parse assets from html");try{var e=t.replace(/<!--((?!-->)[\w\W])+-->/g,""),n=(e.match(/<link[^>]+href="[^"]+/gim)||[]).map(function(t){return"".concat(t.replace(/<link[^>]+href="([^"]+)/gim,"$1"))}).filter(function(t){return!/\.ico$/.test(t)&&/\.css/.test(t)}),r=(e.match(/<script[\w'"=/\s]+src=['"]([^'"]+)['"][^>]*>[\n\s]*<\/script>/gi)||[]).map(function(t){return"".concat(t.replace(/<.+src="([^"]+)".+/,"$1"))}),o=n.concat(r).map(function(t){return/^\/\//.test(t)?"https:".concat(t):t});f.a.info("Got assets from html:",o),w(o)}catch(t){Object(g.a)("parse-assets-from-html-error"),f.a.error(t)}}(e),null}})}).catch(function(t){Object(f.a)("PREFETCH ERROR: ",t),Object(g.a)("fetchPageSource-error",{message:t}),f.a.error(t)})}function k(t){var e=(t.pageConf||{}).data,n={};return(void 0===e?[]:e).forEach(function(e){var r=e.key;n[r]=i()({datePromise:function(t,e){var n=e.type,r=e.getData,o=e.getApiConf,i=e.beaconType;if("value"===n){var c=new Function("ctx",r);return Promise.resolve(c(t))}if("api"===n){var a=new Function("ctx",o);return Promise.resolve(a(t)).then(function(e){var n=e.url,r=e.maxAge,o=void 0===r?0:r;return Object(p.a)(n,e,o).then(function(e){return i&&(t.beaconInfo=Object(y.i)(e,i)),e})})}return Promise.reject(new Error("Unknown data type: ".concat(n)))}(t,e)},e)}),n}},function(t,n,r){var o,i,c;i=[n,t],void 0===(c="function"==typeof(o=function(t,n){"use strict";var r="undefined"==typeof window,o={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function i(t,n){try{delete e[t]}catch(n){e[t]=void 0}r||function(t){var e=document.getElementById(t);e&&document.getElementsByTagName("head")[0].removeChild(e)}(n)}n.exports=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],c=n.timeout||o.timeout,a=n.jsonpCallback||o.jsonpCallback,u=void 0;return new Promise(function(o,s){var f=n.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),l=a+"_"+f;if(e[f]=function(t){o({ok:!0,json:function(){return Promise.resolve(t)},text:function(){return Promise.resolve(t)}}),u&&clearTimeout(u),i(f,l)},-1===t.indexOf(a+"="))t+=-1===t.indexOf("?")?"?":"&",t+=a+"="+f;else{var p=new RegExp("([&?]"+a+"=)[^&$]*","g");t=t.replace(p,"$1"+f)}try{!function(){if(r)e.importScripts(t);else{var o=document.createElement("script");o.setAttribute("src",t),n.charset&&o.setAttribute("charset",n.charset),o.id=l,document.getElementsByTagName("head")[0].appendChild(o),o.onerror=function(){s(new Error("JSONP request to "+t+" failed")),i(f,l),u&&clearTimeout(u)}}}()}catch(t){s(t),i(f,l),u&&clearTimeout(u)}u=setTimeout(function(){s(new Error("JSONP request to "+t+" timed out")),i(f,l),e[f]=function(){i(f,l)}},c)})}})?o.apply(n,i):o)||(t.exports=c)},function(t,e,n){var r=n(25),o=n(10),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(41)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(34);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){n(76)("split",2,function(t,e,r){"use strict";var o=n(127),i=r,c=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var a=void 0===/()??/.exec("")[1];r=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!o(t))return i.call(n,t,e);var r,u,s,f,l,p=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,h=void 0===e?4294967295:e>>>0,m=new RegExp(t.source,d+"g");for(a||(r=new RegExp("^"+m.source+"$(?!\\s)",d));(u=m.exec(n))&&!((s=u.index+u[0].length)>v&&(p.push(n.slice(v,u.index)),!a&&u.length>1&&u[0].replace(r,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(u[l]=void 0)}),u.length>1&&u.index<n.length&&c.apply(p,u.slice(1)),f=u[0].length,v=s,p.length>=h));)m.lastIndex===u.index&&m.lastIndex++;return v===n.length?!f&&m.test("")||p.push(""):p.push(n.slice(v)),p.length>h?p.slice(0,h):p}}else"0".split(void 0,0).length&&(r=function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)});return[function(n,o){var i=t(this),c=void 0==n?void 0:n[e];return void 0!==c?c.call(n,i,o):r.call(String(i),n,o)},r]})},function(t,e,n){var r=n(34),o=n(9)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(c=r(e))&&"function"==typeof e.callee?"Arguments":c}},function(t,e,n){var r=n(24);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r,o,i,c=n(38),a=n(86),u=n(66),s=n(52),f=n(10),l=f.process,p=f.setImmediate,d=f.clearImmediate,v=f.MessageChannel,h=f.Dispatch,m=0,g={},y=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},b=function(t){y.call(t.data)};p&&d||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++m]=function(){a("function"==typeof t?t:Function(t),e)},r(m),m},d=function(t){delete g[t]},"process"==n(34)(l)?r=function(t){l.nextTick(c(y,t,1))}:h&&h.now?r=function(t){h.now(c(y,t,1))}:v?(i=(o=new v).port2,o.port1.onmessage=b,r=c(i.postMessage,i,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(t){f.postMessage(t+"","*")},f.addEventListener("message",b,!1)):r="onreadystatechange"in s("script")?function(t){u.appendChild(s("script")).onreadystatechange=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(c(y,t,1),0)}),t.exports={set:p,clear:d}},function(t,e,n){var r=n(10).document;t.exports=r&&r.documentElement},function(t,e,n){"use strict";var r=n(42);t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}(t)}},function(t,e,n){var r=n(10).navigator;t.exports=r&&r.userAgent||""},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(9)("unscopables"),o=Array.prototype;void 0==o[r]&&n(22)(o,r,{}),t.exports=function(t){o[r][t]=!0}},function(t,e,n){"use strict";var r=n(41),o=n(21),i=n(27),c=n(22),a=n(37),u=n(97),s=n(49),f=n(98),l=n(9)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,n,v,h,m,g){u(n,e,v);var y,b,_,w=function(t){if(!p&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},O=e+" Iterator",j="values"==h,x=!1,S=t.prototype,E=S[l]||S["@@iterator"]||h&&S[h],k=E||w(h),P=h?j?w("entries"):k:void 0,A="Array"==e&&S.entries||E;if(A&&(_=f(A.call(new t)))!==Object.prototype&&_.next&&(s(_,O,!0),r||"function"==typeof _[l]||c(_,l,d)),j&&E&&"values"!==E.name&&(x=!0,k=function(){return E.call(this)}),r&&!g||!p&&!x&&S[l]||c(S,l,k),a[e]=k,a[O]=d,h)if(y={values:j?k:w("values"),keys:m?k:w("keys"),entries:P},g)for(b in y)b in S||i(S,b,y[b]);else o(o.P+o.F*(p||x),e,y);return y}},function(t,e,n){"use strict";n.d(e,"a",function(){return f});n(33);var r=n(0),o=n(6),i=n(16),c=n(1),a=n(3),u=n(5);function s(t,e,n){return function(t){var e=t.method;return/jsonp/i.test(e)&&Object(a.d)()?i.a.callAPI(c.e,void 0,{timeout:200}).then(function(e){return i.a.callAPI("".concat(e).concat(c.c),t,{timeout:2e3})}).catch(function(t){r.a.error(t),Object(u.a)("_fetchData-error")}):o.c.cacheApi("TEMP",t,0).getData()}(e).then(function(e){return o.c.cacheValue(t,e,n).getData()})}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e.updateCache,i=e.forceUpdate,c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.method,r=void 0===n?"GET":n,o=e.params,i=void 0===o?{}:o;return"".concat(t,"_").concat(r,"_").concat(JSON.stringify(i))}(t,e),a=Object.assign({},e,{url:t});return i?s(c,a,n):o.c.loadValue(c).getData().then(function(t){return null!==t&&void 0!==t?(r&&s(c,a,n),t):s(c,a,n)})}},function(t,e,n){t.exports=!n(19)&&!n(26)(function(){return 7!=Object.defineProperty(n(52)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(35),o=n(36),i=n(93)(!1),c=n(54)("IE_PROTO");t.exports=function(t,e){var n,a=o(t),u=0,s=[];for(n in a)n!=c&&r(a,n)&&s.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~i(s,n)||s.push(n));return s}},function(t,e,n){var r=n(17),o=n(95),i=n(61),c=n(54)("IE_PROTO"),a=function(){},u=function(){var t,e=n(52)("iframe"),r=i.length;for(e.style.display="none",n(66).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[i[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=r(t),n=new a,a.prototype=null,n[c]=t):n=u(),void 0===e?n:o(n,e)}},function(t,e,n){"use strict";var r=n(22),o=n(27),i=n(26),c=n(32),a=n(9);t.exports=function(t,e,n){var u=a(t),s=n(c,u,""[t]),f=s[0],l=s[1];i(function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})&&(o(String.prototype,t,f),r(RegExp.prototype,u,2==e?function(t,e){return l.call(t,this,e)}:function(t){return l.call(t,this)}))}},function(t,e,n){"use strict";n(128);var r=n(17),o=n(78),i=n(19),c=/./.toString,a=function(t){n(27)(RegExp.prototype,"toString",t,!0)};n(26)(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?a(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!i&&t instanceof RegExp?o.call(t):void 0)}):"toString"!=c.name&&a(function(){return c.call(this)})},function(t,e,n){"use strict";var r=n(17);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,n,r){"use strict";r(12),r(77),r(18),r(62);var o=r(7),i=r.n(o),c=r(8),a=r.n(c),u=r(0),s=r(1),f=r(3),l=function(){function t(){if(i()(this,t),u.a.info("Init message module for:",Object(f.a)()),this._api={},this._callback={},Object(f.d)())this.targetId="",this.pageUUID=Object(f.b)();else if(Object(f.c)()){var e=JSON.parse(decodeURIComponent(window.location.hash).slice(1)),n=e.swOrigin,r=e.pageUUID;this.swOrigin=n,this.pageUUID=r;var o=document.referrer.split("/");this.targetOrigin="".concat(o[0],"//").concat(o[2]),u.a.info("Get targetOrigin",this.targetOrigin)}else this.pageUUID=Object(f.b)();this._registerHandler(),this._senderUUID=Object(f.b)()}return a()(t,[{key:"_initTargetId",value:function(){}},{key:"_registerHandler",value:function(){var t=this;u.a.info("Register handler"),e.addEventListener("message",function(e){t._handleMessage(e)}),navigator.serviceWorker&&navigator.serviceWorker.addEventListener("message",function(e){t._handleMessage(e)})}},{key:"registerAPI",value:function(t,e){u.a.info("注册 API:",t),this._api[t]=e}},{key:"callAPI",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.weak,i=r.timeout,c=void 0===i?3e3:i;return u.a.info("调用 API:",t),new Promise(function(r,i){var a=Object(f.b)();n._postMessage({type:"SW_MESSAGE_API",isCallback:!1,apiId:t,data:e,uuid:a,weak:o,senderUUID:n._senderUUID});var u=setTimeout(function(){i(new Error("API_MESSAGE_TIMEOUT: ".concat(t," call timeout: ").concat(c,"ms")))},c);n._callback[a]={resolve:function(){return clearTimeout(u),r.apply(void 0,arguments)},reject:function(t){return clearTimeout(u),i(t)}}})}},{key:"_postCallback",value:function(t,e){var n=Object(f.b)();this._postMessage({type:"SW_MESSAGE_API",isCallback:!0,targetUUID:t,data:e,uuid:n,senderUUID:this._senderUUID})}},{key:"_handleMessage",value:function(t){var e=t.data;e&&e.senderUUID!==this._senderUUID&&"SW_MESSAGE_API"===e.type&&(Object(f.c)()&&this._postMessage(e),this._handleMessageOfAPI(t),this._handleMessageOfCallback(t))}},{key:"_handleMessageOfAPI",value:function(t){var e=this,n=t.data;if(!n.isCallback&&this._api[n.apiId]){var r=this._api[n.apiId](n.data);void 0!==r&&(r=new Promise(function(t){return t(r)})),r&&r.then&&r.then(function(t){e._postCallback(n.uuid,{code:s.u,data:t})}).catch(function(t){u.a.error(t),e._postCallback(n.uuid,{code:s.t,data:t instanceof Error?t.toString():t})})}}},{key:"_handleMessageOfCallback",value:function(t){var e=t.data;if(e.isCallback){var n=e.targetUUID;if(this._callback[n]){var r=this._callback[n],o=r.resolve,i=r.reject;delete this._callback[n],e.data.code===s.u?o(e.data.data):i(e.data.data)}}}},{key:"_postMessage",value:function(t){Object(f.c)()?this._postMessageFromProxy(t):Object(f.d)()?this._postMessageFromServiceWorker(t):this._postMessageFromPage(t)}},{key:"_postMessageFromPage",value:function(t){(document.querySelectorAll("[".concat(s.v,"]"))||[]).forEach(function(e){e.contentWindow.postMessage(t,"*")})}},{key:"_postMessageFromServiceWorker",value:function(t){e.clients.matchAll().then(function(e){e&&e.length&&e.forEach(function(e){/sw-proxy\.html/.test(e.url)&&e.postMessage(t)})})}},{key:"_postMessageFromProxy",value:function(t){function e(){t.weak}window.parent.postMessage(t,"*"),t.source,ServiceWorker;var n=navigator.serviceWorker.controller;n&&"activated"===n.state?navigator.serviceWorker.controller.postMessage(t):e()}}]),t}();n.a=l},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(38),o=n(82),i=n(83),c=n(17),a=n(48),u=n(84),s={},f={};(e=t.exports=function(t,e,n,l,p){var d,v,h,m,g=p?function(){return t}:u(t),y=r(n,l,e?2:1),b=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(i(g)){for(d=a(t.length);d>b;b++)if((m=e?y(c(v=t[b])[0],v[1]):y(t[b]))===s||m===f)return m}else for(h=g.call(t);!(v=h.next()).done;)if((m=o(h,y,v.value,e))===s||m===f)return m}).BREAK=s,e.RETURN=f},function(t,e,n){var r=n(17);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(37),o=n(9)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){var r=n(63),o=n(9)("iterator"),i=n(37);t.exports=n(25).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(17),o=n(42),i=n(9)("species");t.exports=function(t,e){var n,c=r(t).constructor;return void 0===c||void 0==(n=r(c)[i])?e:o(n)}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(10),o=n(65).set,i=r.MutationObserver||r.WebKitMutationObserver,c=r.process,a=r.Promise,u="process"==n(34)(c);t.exports=function(){var t,e,n,s=function(){var r,o;for(u&&(r=c.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){c.nextTick(s)};else if(!i||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var f=a.resolve(void 0);n=function(){f.then(s)}}else n=function(){o.call(r,s)};else{var l=!0,p=document.createTextNode("");new i(s).observe(p,{characterData:!0}),n=function(){p.data=l=!l}}return function(r){var o={fn:r,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(17),o=n(24),i=n(67);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(27);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){"use strict";var r=n(10),o=n(23),i=n(19),c=n(9)("species");t.exports=function(t){var e=r[t];i&&e&&!e[c]&&o.f(e,c,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(9)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],c=i[r]();c.next=function(){return{done:n=!0}},i[r]=function(){return c},t(i)}catch(t){}return n}},function(t,e,n){var r=n(36),o=n(48),i=n(94);t.exports=function(t){return function(e,n,c){var a,u=r(e),s=o(u.length),f=i(c,s);if(t&&n!=n){for(;s>f;)if((a=u[f++])!=a)return!0}else for(;s>f;f++)if((t||f in u)&&u[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){var r=n(44),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},function(t,e,n){var r=n(23),o=n(17),i=n(28);t.exports=n(19)?Object.defineProperties:function(t,e){o(t);for(var n,c=i(e),a=c.length,u=0;a>u;)r.f(t,n=c[u++],e[n]);return t}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r=n(75),o=n(53),i=n(49),c={};n(22)(c,n(9)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(c,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(35),o=n(51),i=n(54)("IE_PROTO"),c=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,n){var r=n(44),o=n(32);t.exports=function(t){return function(e,n){var i,c,a=String(o(e)),u=r(n),s=a.length;return u<0||u>=s?t?"":void 0:(i=a.charCodeAt(u))<55296||i>56319||u+1===s||(c=a.charCodeAt(u+1))<56320||c>57343?t?a.charAt(u):i:t?a.slice(u,u+2):c-56320+(i-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(28),o=n(69),i=n(50),c=n(51),a=n(60),u=Object.assign;t.exports=!u||n(26)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=c(t),u=arguments.length,s=1,f=o.f,l=i.f;u>s;)for(var p,d=a(arguments[s++]),v=f?r(d).concat(f(d)):r(d),h=v.length,m=0;h>m;)l.call(d,p=v[m++])&&(n[p]=d[p]);return n}:u},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){var r=n(14);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e,n){var r=n(23).f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||n(19)&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(21),o=n(112),i=n(68);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(i),"String",{padEnd:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){var r=n(48),o=n(113),i=n(32);t.exports=function(t,e,n,c){var a=String(i(t)),u=a.length,s=void 0===n?" ":String(n),f=r(e);if(f<=u||""==s)return a;var l=f-u,p=o.call(s,Math.ceil(l/s.length));return p.length>l&&(p=p.slice(0,l)),c?p+a:a+p}},function(t,e,n){"use strict";var r=n(44),o=n(32);t.exports=function(t){var e=String(o(this)),n="",i=r(t);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},function(t,e,n){var r=n(21),o=n(25),i=n(26);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],c={};c[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",c)}},function(t,e,n){var r=n(21),o=n(116)(!1);r(r.S,"Object",{values:function(t){return o(t)}})},function(t,e,n){var r=n(28),o=n(36),i=n(50).f;t.exports=function(t){return function(e){for(var n,c=o(e),a=r(c),u=a.length,s=0,f=[];u>s;)i.call(c,n=a[s++])&&f.push(t?[n,c[n]]:c[n]);return f}}},function(t,e,n){"use strict";n(18),n(12),n(20),n(40);var r=n(0),o=(n(145),n(148),n(7)),i=n.n(o),c=n(8),a=n.n(c),u=n(6),s=function(){function t(e){i()(this,t),this.key=e,this.itemList=[],this._initPromise=this._init()}return a()(t,[{key:"_init",value:function(){var t=this;return u.c.loadGroup(this.key).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.sort(function(t,e){return e.expire-t.expire}),t.itemList=e.slice(0,50),e.slice(50,e.length).forEach(function(t){return t.remove()})})}},{key:"_getUstoreKey",value:function(t){return"UDATA_BUCKET_".concat(this.key,"_").concat(t)}},{key:"_deleteOldData",value:function(){var t=this.itemList;if(t.length){var e=0;t.forEach(function(n,r){n.expire<t[e]&&(e=r)}),t[e].remove(),t.splice(e,1)}}},{key:"_findItemById",value:function(t){var e=this._getUstoreKey(t);return this.itemList.find(function(t){var n=t.key;return e===n})}},{key:"get",value:function(t){var e=this;return this._initPromise.then(function(){var n=e._findItemById(t);return n?n.getData():null})}},{key:"getAll",value:function(){var t=this;return this._initPromise.then(function(){return Promise.all(t.itemList.map(function(t){return t.getData()}))})}},{key:"put",value:function(t,e,n){var r=this;return this._initPromise.then(function(){var o=r._findItemById(t);if(o)return o.update(e);r.itemList.length>=50&&r._deleteOldData();var i=r._getUstoreKey(t),c=n.maxAge,a=u.c.cacheValue(i,e,c,r.key);return r.itemList.push(a),a.getData()})}},{key:"remove",value:function(t){var e=this;return this._initPromise.then(function(){var n=e.itemList,r=e._getUstoreKey(t),o=n.findIndex(function(t){return t.key===r});if(o>=0){var i=n[o];return n.splice(o,1),i.remove()}return null})}},{key:"removeAll",value:function(){var t=this;return this._initPromise.then(function(){return Promise.all(t.itemList.map(function(t){return t.remove()}))}).then(function(){var e=t.itemList.length;return t.itemList=[],e})}}]),t}(),f={};function l(t){return f[t]=new s(t)}function p(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object(r.a)("trace: udata.put(".concat(t,", ").concat(e,", ").concat(n,")")),l(t).put(e,n,o)}e.a={put:p,putList:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Promise.all(e.map(function(e){var r=e.id,o=e.data;return p(t,r,o,n)}))},get:function(t,e){return l(t).get(e)},getAll:function(t){return l(t).getAll()},remove:function(t,e){return l(t).remove(e)},removeAll:function(t){return l(t).removeAll()}}},function(t,e,n){var r=n(34);t.exports=Array.isArray||function(t){return"Array"==r(t)}},,function(t,n,r){"use strict";var o=r(15),i=r.n(o),c=(r(62),r(1));n.a={api:c.d,handler:function(t){if(e.location.host===t)return[document.cookie.split(";").map(function(t){var e=t.split("="),n=i()(e,2);return[n[0],n[1]]}).reduce(function(t,e){var n=i()(e,2),r=n[0],o=n[1],c=t;return c[r.trim()]=o,c},{}),document.cookie]}}},function(t,n,r){"use strict";var o=r(16),i=r(1);n.a={api:i.e,handler:function(t){if(void 0===t||e.location.hostname===t)return o.a.pageUUID}}},function(t,e,n){"use strict";var r=n(16),o=n(1),i=n(47);e.a={api:r.a.pageUUID+o.i,handler:function(t){var e=t.namespace,n=t.id,r=t.opts;return Object(i.fetchPageSource)(e,n,3e3,r)}}},,function(t,e,n){var r=n(10),o=n(25),i=n(41),c=n(125),a=n(23).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:c.f(t)})}},function(t,e,n){e.f=n(9)},function(t,e,n){var r=n(74),o=n(61).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(24),o=n(34),i=n(9)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,n){n(19)&&"g"!=/./g.flags&&n(23).f(RegExp.prototype,"flags",{configurable:!0,get:n(78)})},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(38),o=n(60),i=n(51),c=n(48),a=n(146);t.exports=function(t,e){var n=1==t,u=2==t,s=3==t,f=4==t,l=6==t,p=5==t||l,d=e||a;return function(e,a,v){for(var h,m,g=i(e),y=o(g),b=r(a,v,3),_=c(y.length),w=0,O=n?d(e,_):u?d(e,0):void 0;_>w;w++)if((p||w in y)&&(m=b(h=y[w],w,g),t))if(n)O[w]=m;else if(m)switch(t){case 3:return!0;case 5:return h;case 6:return w;case 2:O.push(h)}else if(f)return!1;return l?-1:s||f?f:O}}},function(t,e,n){"use strict";e.a=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})}},function(t,e,n){var r=n(39);t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){r(t,e,n[e])})}return t}},function(t,e,n){n(76)("replace",2,function(t,e,n){return[function(r,o){"use strict";var i=t(this),c=void 0==r?void 0:r[e];return void 0!==c?c.call(r,i,o):n.call(String(i),r,o)},n]})},function(t,e,n){n(124)("asyncIterator")},function(t,e,n){"use strict";var r=n(10),o=n(35),i=n(19),c=n(21),a=n(27),u=n(136).KEY,s=n(26),f=n(59),l=n(49),p=n(43),d=n(9),v=n(125),h=n(124),m=n(137),g=n(118),y=n(17),b=n(24),_=n(36),w=n(64),O=n(53),j=n(75),x=n(138),S=n(139),E=n(23),k=n(28),P=S.f,A=E.f,T=x.f,I=r.Symbol,C=r.JSON,L=C&&C.stringify,M=d("_hidden"),F=d("toPrimitive"),R={}.propertyIsEnumerable,U=f("symbol-registry"),D=f("symbols"),N=f("op-symbols"),V=Object.prototype,G="function"==typeof I,H=r.QObject,$=!H||!H.prototype||!H.prototype.findChild,q=i&&s(function(){return 7!=j(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=P(V,e);r&&delete V[e],A(t,e,n),r&&t!==V&&A(V,e,r)}:A,W=function(t){var e=D[t]=j(I.prototype);return e._k=t,e},B=G&&"symbol"==typeof I.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof I},K=function(t,e,n){return t===V&&K(N,e,n),y(t),e=w(e,!0),y(n),o(D,e)?(n.enumerable?(o(t,M)&&t[M][e]&&(t[M][e]=!1),n=j(n,{enumerable:O(0,!1)})):(o(t,M)||A(t,M,O(1,{})),t[M][e]=!0),q(t,e,n)):A(t,e,n)},J=function(t,e){y(t);for(var n,r=m(e=_(e)),o=0,i=r.length;i>o;)K(t,n=r[o++],e[n]);return t},z=function(t){var e=R.call(this,t=w(t,!0));return!(this===V&&o(D,t)&&!o(N,t))&&(!(e||!o(this,t)||!o(D,t)||o(this,M)&&this[M][t])||e)},X=function(t,e){if(t=_(t),e=w(e,!0),t!==V||!o(D,e)||o(N,e)){var n=P(t,e);return!n||!o(D,e)||o(t,M)&&t[M][e]||(n.enumerable=!0),n}},Y=function(t){for(var e,n=T(_(t)),r=[],i=0;n.length>i;)o(D,e=n[i++])||e==M||e==u||r.push(e);return r},Q=function(t){for(var e,n=t===V,r=T(n?N:_(t)),i=[],c=0;r.length>c;)!o(D,e=r[c++])||n&&!o(V,e)||i.push(D[e]);return i};G||(a((I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===V&&e.call(N,n),o(this,M)&&o(this[M],t)&&(this[M][t]=!1),q(this,t,O(1,n))};return i&&$&&q(V,t,{configurable:!0,set:e}),W(t)}).prototype,"toString",function(){return this._k}),S.f=X,E.f=K,n(126).f=x.f=Y,n(50).f=z,n(69).f=Q,i&&!n(41)&&a(V,"propertyIsEnumerable",z,!0),v.f=function(t){return W(d(t))}),c(c.G+c.W+c.F*!G,{Symbol:I});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)d(Z[tt++]);for(var et=k(d.store),nt=0;et.length>nt;)h(et[nt++]);c(c.S+c.F*!G,"Symbol",{for:function(t){return o(U,t+="")?U[t]:U[t]=I(t)},keyFor:function(t){if(!B(t))throw TypeError(t+" is not a symbol!");for(var e in U)if(U[e]===t)return e},useSetter:function(){$=!0},useSimple:function(){$=!1}}),c(c.S+c.F*!G,"Object",{create:function(t,e){return void 0===e?j(t):J(j(t),e)},defineProperty:K,defineProperties:J,getOwnPropertyDescriptor:X,getOwnPropertyNames:Y,getOwnPropertySymbols:Q}),C&&c(c.S+c.F*(!G||s(function(){var t=I();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(b(e)||void 0!==t)&&!B(t))return g(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!B(e))return e}),r[1]=e,L.apply(C,r)}}),I.prototype[F]||n(22)(I.prototype,F,I.prototype.valueOf),l(I,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,e,n){var r=n(43)("meta"),o=n(24),i=n(35),c=n(23).f,a=0,u=Object.isExtensible||function(){return!0},s=!n(26)(function(){return u(Object.preventExtensions({}))}),f=function(t){c(t,r,{value:{i:"O"+ ++a,w:{}}})},l=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!u(t))return"F";if(!e)return"E";f(t)}return t[r].i},getWeak:function(t,e){if(!i(t,r)){if(!u(t))return!0;if(!e)return!1;f(t)}return t[r].w},onFreeze:function(t){return s&&l.NEED&&u(t)&&!i(t,r)&&f(t),t}}},function(t,e,n){var r=n(28),o=n(69),i=n(50);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var c,a=n(t),u=i.f,s=0;a.length>s;)u.call(t,c=a[s++])&&e.push(c);return e}},function(t,e,n){var r=n(36),o=n(126).f,i={}.toString,c="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return c&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return c.slice()}}(t):o(r(t))}},function(t,e,n){var r=n(50),o=n(53),i=n(36),c=n(64),a=n(35),u=n(73),s=Object.getOwnPropertyDescriptor;e.f=n(19)?s:function(t,e){if(t=i(t),e=c(e,!0),u)try{return s(t,e)}catch(t){}if(a(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,n){"use strict";(function(t){var e=n(131),r=setTimeout;function o(){}function i(t){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function c(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void u(e.promise,t)}a(e.promise,r)}else(1===t._state?a:u)(e.promise,t._value)})):t._deferreds.push(e)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void s(t);if("function"==typeof n)return void f(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t._state=1,t._value=e,s(t)}catch(e){u(t,e)}}function u(t,e){t._state=2,t._value=e,s(t)}function s(t){2===t._state&&0===t._deferreds.length&&i._immediateFn(function(){t._handled||i._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)c(t,t._deferreds[e]);t._deferreds=null}function f(t,e){var n=!1;try{t(function(t){n||(n=!0,a(e,t))},function(t){n||(n=!0,u(e,t))})}catch(t){if(n)return;n=!0,u(e,t)}}i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=new this.constructor(o);return c(this,new function(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}(t,e,n)),n},i.prototype.finally=e.a,i.all=function(t){return new i(function(e,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var o=r.length;function i(t,c){try{if(c&&("object"==typeof c||"function"==typeof c)){var a=c.then;if("function"==typeof a)return void a.call(c,function(e){i(t,e)},n)}r[t]=c,0==--o&&e(r)}catch(t){n(t)}}for(var c=0;c<r.length;c++)i(c,r[c])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)})},i._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){r(t,0)},i._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)}}).call(this,n(141).setImmediate)},function(t,n,r){(function(t){var o=void 0!==t&&t||void 0!==e&&e||window,i=Function.prototype.apply;function c(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new c(i.call(setTimeout,o,arguments),clearTimeout)},n.setInterval=function(){return new c(i.call(setInterval,o,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t&&t.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(o,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(142),n.setImmediate=void 0!==e&&e.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,n.clearImmediate=void 0!==e&&e.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(129))},function(t,n,r){(function(t,n){!function(t,e){"use strict";if(!t.setImmediate){var r,o=1,i={},c=!1,a=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?r=function(t){n.nextTick(function(){f(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&f(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){f(t.data)},r=function(e){t.port2.postMessage(e)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var t=a.documentElement;r=function(e){var n=a.createElement("script");n.onreadystatechange=function(){f(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(f,0,t)},u.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var c={callback:t,args:e};return i[o]=c,r(o),o++},u.clearImmediate=s}function s(t){delete i[t]}function f(t){if(c)setTimeout(f,0,t);else{var n=i[t];if(n){c=!0;try{!function(t){var n=t.callback,r=t.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(e,r)}}(n)}finally{s(t),c=!1}}}}}(void 0===e?void 0===t?this:t:e)}).call(this,r(129),r(143))},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:c}catch(t){r=c}}();var u,s=[],f=!1,l=-1;function p(){f&&u&&(f=!1,u.length?s=u.concat(s):l=-1,s.length&&d())}function d(){if(!f){var t=a(p);f=!0;for(var e=s.length;e;){for(u=s,s=[];++l<e;)u&&u[l].run();l=-1,e=s.length}u=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===c||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function v(t,e){this.fun=t,this.array=e}function h(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new v(t,e)),1!==s.length||f||a(d)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){n(76)("match",1,function(t,e,n){return[function(n){"use strict";var r=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,r):new RegExp(n)[e](String(r))},n]})},function(t,e,n){"use strict";var r=n(21),o=n(130)(6),i="findIndex",c=!0;i in[]&&Array(1)[i](function(){c=!1}),r(r.P+r.F*c,"Array",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(70)(i)},function(t,e,n){var r=n(147);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(24),o=n(118),i=n(9)("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(21),o=n(130)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),r(r.P+r.F*i,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(70)("find")},function(t,e,n){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registRunner=i;var r=n(1),o={};function i(t){var e=t.type,n=t.handler,i=void 0===n?r.noop:n;o[e]=i}e.default={run:function(t){var e=t.type,n=o[e];if("function"!=typeof n)throw new Error("Unkown task type: "+e);n(t)},registRunner:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assignObj=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},e.noop=function(){},e.addDomContentLoadCb=function(t){var e=document.readyState;"interactive"===e||"complete"===e?setTimeout(t,50):document.addEventListener("DOMContentLoaded",t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(0)),o=n(5),i=n(3),c=void 0,a=!1,u=!1;function s(){u||(u=!0,f())}function f(){!a&&u&&(a=!0,function t(){c&&(0,o.cancelIdleCallback)(c),c=(0,o.requestIdleCallback)(function(e){for(;e.timeRemaining()>10&&(0,i.getTaskRemainCount)()>0;)p();(0,i.getTaskRemainCount)()>0?t():l()})}())}function l(){a=!1,c&&(0,o.cancelIdleCallback)(c)}function p(){var t=(0,i.consumeTask)();return!!t&&(r.default.run(t),!0)}e.default={init:function(){"complete"===document.readyState?s():window.addEventListener("load",s),setTimeout(function(){s()},8e3)},start:f,stop:l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.consumeTask=function(){for(var t=0;t<s.length;t++)if(s[t].length)return s[t].shift();return null},e.getTaskRemainCount=function(){return s.map(function(t){return t.length}).reduce(function(t,e){return t+e},0)},e.addTask=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.level,n=void 0===e?0:e,c=t.immediate,a=new r.default(t);c?i.default.run(a):(n=Math.min(u-1,n),n=Math.max(0,n),s[n].push(a),o.default.start())},e.getTaskByType=function(t){return s.map(function(e){return e.filter(function(e){var n=e.type;return"*"===t||n===t})}).reduce(function(t,e){return[].concat(a(t),a(e))},[])},e.clear=function(){s.forEach(function(t){return t.length=0})};var r=c(n(6)),o=c(n(2)),i=c(n(0));function c(t){return t&&t.__esModule?t:{default:t}}function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var u=3,s=[].concat(a(new Array(u))).map(function(){return[]})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTaskByType=e.clear=e.registRunner=e.addTask=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(3),i=n(0);(0,n(1).addDomContentLoadCb)(function(){r.default.init()}),e.addTask=o.addTask,e.registRunner=i.registRunner,e.clear=o.clear,e.getTaskByType=o.getTaskByType},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=window.requestIdleCallback||function(t){var e=Date.now();return setTimeout(function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)},o=window.cancelIdleCallback||function(t){clearTimeout(t)};e.requestIdleCallback=r,e.cancelIdleCallback=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o={level:0,immediate:!1,type:"LINK_PREFETCH",payload:{}};e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(0,r.assignObj)({},o,t),n=e.level,i=e.immediate,c=e.type,a=e.payload;this.level=n,this.immediate=i,this.type=c,this.payload=(0,r.assignObj)({},a)}}])},function(t,e){var n,r={},o=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?function(){for(var t=[],e=0,n=0;n<15;n++)t.push(new Image);return function(n){t[e++%15].src=n}}():function(t){var e=document.createElement("link");e.rel="prefetch",e.href=t,document.head.appendChild(e)};function i(t){return void 0===n&&(n=function(){try{var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d")||0!==t.toDataURL("image/webp").indexOf("data:image/webp"))}catch(t){return!1}}()),n?t.replace(/(\.jpg|\.jpeg|\.png)(?=$|\?|#)/i,"$1_.webp"):t}t.exports={type:"LINK_PREFETCH",handler:function(t){var e=function(t){var e=(t=t||{}).url,n=t.autoWebpSuffix;return/(\.jpg|\.jpeg|\.png)($|\?|#)/i.test(e)&&n&&(t.url=i(e)),t}(t.payload).url;e&&!r[e]&&(o(e),r[e]=!0)}}},,,function(t,n,r){"use strict";r.r(n);r(12),r(20),r(55),r(140);var o=r(13),i=r(0),c=r(5),a=r(1),u=(r(18),r(47)),s=r(3),f=r(16);function l(t){var e=t.namespace,n=t.id,r=t.domain,o=t.opts;return function(t){var e=0;return function n(){return f.a.callAPI(a.e,t,{timeout:1e3}).catch(function(){return(e+=1)<=5?n():Promise.reject(new Error("get page uid timeout"))})}()}(r).then(function(t){return t?f.a.callAPI(t+a.i,{namespace:e,id:n,opts:o}):Promise.reject(new Error("no available client"))}).catch(function(t){Object(i.a)(t,n,r,e,o),Promise.resolve("next")})}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(s.j)(t,function(t){return d(t)},3)}function d(t){var n=t.namespace,r=t.id,o=t.domain,i=t.opts,c=e.location.hostname;return n&&r?c===(o||c)?Object(u.fetchPageSource)(n,r,3e3,i):l({namespace:n,id:r,domain:o,opts:i}):Promise.resolve("done")}var v=r(6),h=r(72),m=r(117),g=(r(77),r(33),r(149)),y=r(150),b=r.n(y);function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({url:t},e),r={type:b.a.type,payload:n};g.addTask(r)}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"[object Array]"===Object.prototype.toString.call(t)?t.forEach(function(t){_(t,e)}):_(t,e)}g.registRunner(b.a);var O={api:f.a.pageUUID+a.f,handler:function(t){return w(t),"idle load succes: ".concat(t)}},j=r(121),x={api:f.a.pageUUID+a.c,handler:function(t){return v.c.cacheApi("TEMP",t,0).getData()}},S=r(120),E=r(122);[O,j.a,x,S.a,E.a].forEach(function(t){var e=t.api,n=t.handler;f.a.registerAPI(e,n)});var k={},P="flasher-preload",A="preload-attr",T="preload-priority",I=5e3,C=10,L=0;function M(){if(!(L>=C)&&document.querySelectorAll){L+=1;var t=document.querySelectorAll("[".concat(P,"=true]")),e=[].slice.call(t).map(function(t){var e=t.getAttribute(A)||"href";return{url:t.getAttribute(e),priority:parseInt(t.getAttribute(T)||1,10)}}).filter(function(t){var e=t.url;return e&&!k[e]}),n=[];e.sort(function(t,e){return e.priority-t.priority}),e.forEach(function(t){var e=t.url;n.push(e),k[e]=!0}),n.length&&function(t){f.a.callAPI(a.h,t,{timeout:1e3}).catch(function(){})}(n)}}function F(){Object(s.h)().then(function(){M(),function(t){if(window.MutationObserver){var e=document.body;new MutationObserver(t).observe(e,{attributes:!1,childList:!0,subtree:!0})}}(Object(s.l)(M,I))})}var R=1e3,U=10,D=[function(t){var e=t.prefetchPages,n=void 0===e?[]:e;n.length&&Object(c.a)("global-config-prefetch-page"),p(n)}];function N(t){var e=t||{};D.forEach(function(t){return t(e)})}!function(){var t=0;void 0===window._FLASHER_CONF_?function e(){void 0===window._FLASHER_CONF_?(t+=1)<=U&&setTimeout(e,R):N(window._FLASHER_CONF_)}():N(window._FLASHER_CONF_)}(),F();r(134),r(135);var V=r(7),G=r.n(V),H=r(8),$=r.n(H),q=new(function(){function t(){G()(this,t),this._proxyIframe={},this._message=f.a,this.SCOPE=a.w,window.addEventListener("click",function(t){try{var e=t.target;if(e&&e.tagName&&"A"===e.tagName.toUpperCase())-1!==e.parentElement.parentElement.className.indexOf("ui-header-lan-list-ui")&&f.a.callAPI(a.a,{weak:!0})}catch(t){Object(i.a)(t)}},!0)}return $()(t,[{key:"register",value:function(t,e){var n=[this.SCOPE.activity],r=e||n;i.a.info("注册 ServiceWorker:",r);var o=r.length,c=0;this._message.registerAPI(this._message.pageUUID+a.k,function(e){var n=e.origin;return c+=1,i.a.info("注册成功:",n),c===o&&t(null),!0}),this._message.registerAPI(this._message.pageUUID+a.j,function(e){var n=e.origin,r=e.error;i.a.info("注册失败:",n),t(new Error(r))});var u=!0,s=!1,f=void 0;try{for(var l,p=r[Symbol.iterator]();!(u=(l=p.next()).done);u=!0){var d=l.value;this._registerSingleScope(d)}}catch(t){s=!0,f=t}finally{try{u||null==p.return||p.return()}finally{if(s)throw f}}}},{key:"_registerSingleScope",value:function(t){var e=document.createElement("iframe"),n={swOrigin:t,pageUUID:this._message.pageUUID};e.src="".concat(t,"/sw-proxy.html?v=").concat("0.0.75","#").concat(encodeURIComponent(JSON.stringify(n))),e.setAttribute(a.v,t),e.style.display="none",this._proxyIframe[t]=e,document.body.appendChild(e)}}]),t}()),W=Object.keys(a.w).map(function(t){return a.w[t]});window.Flasher={_swclient:q,_ustore:v.c,_ufetch:h.a,_idleLoad:w,udata:m.a,prefetchPage:d,prefetchPageList:p,trace:o.trace,getTrace:o.getTrace,_enableRoute:function(t,e){return q._message.callAPI(a.b,{route:t,byhand:e}).catch(function(t){return t})}},q.register(function(t){if(t)Object(o.trace)("client-register-error");else{var n=0;!function t(){q._message.callAPI(a.g,{url:e.location.href}).then(function(){i.a.info("Page Installed"),Object(o.trace)("page-installed")}).catch(function(e){Object(o.trace)("page-installed-error"),(n+=1)<=5&&(Object(o.trace)("page-install-retry"),t())})}()}},W);n.default=q}])}();